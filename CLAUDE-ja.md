# CLAUDE.md

このファイルは、このドキュメントリポジトリで作業する際のClaude Code (claude.ai/code) へのガイダンスを提供します。

## ドキュメントプロジェクトルール

### ルール1: ドキュメント品質基準
**すべてのドキュメントで一貫した高品質を維持する。**

ドキュメントを作成または更新する際：
1. **正確性**: すべての技術仕様が正確で実装可能であることを確認
2. **完全性**: 指定されたトピックのすべての側面を包括的にカバー
3. **一貫性**: ドキュメント全体で一貫した用語、書式、構造を使用
4. **多言語サポート**: 英語と日本語版を同等の品質で維持

### ルール2: ドキュメント構造基準
**一貫したドキュメント構造と書式に従う。**

すべての技術文書には以下を含める：
1. **明確な概要**: 文書の目的と範囲の要約
2. **構造化セクション**: 明確な見出しと小見出しによる論理的な構成
3. **コード例**: 該当する場合は実用的な実装例
4. **相互参照**: 関連文書とセクションへのリンク
5. **バージョン管理**: 文書バージョンと更新履歴の追跡

### ルール3: 技術仕様の正確性
**すべての技術仕様が実装可能で現実的であることを確保する。**

技術仕様を作成する際：
1. **実現可能性レビュー**: 提案されたすべてのソリューションが技術的に実現可能であることを確認
2. **パフォーマンス目標**: 技術能力に基づく現実的なパフォーマンスベンチマークの設定
3. **セキュリティ要件**: 包括的なセキュリティ考慮事項の含有
4. **統合ポイント**: コンポーネント間の相互作用を明確に定義

### ルール4: アーキテクチャドキュメント基準
**明確な根拠とトレードオフを含むアーキテクチャ決定を文書化する。**

アーキテクチャドキュメントには以下を含める：
1. **決定の根拠**: 特定のアーキテクチャ選択がなされた理由を説明
2. **トレードオフ分析**: 検討された代替案と却下理由を文書化
3. **将来的考慮事項**: スケーラビリティと進化パスへの対応
4. **実装ガイドライン**: 開発者への明確なガイダンス提供

### ルール5: 日本語翻訳品質
**技術的正確性を保持したプロフェッショナルグレードの日本語翻訳を維持する。**

日本語翻訳を作成する際：
1. **技術用語**: 適切な日本語技術用語を一貫して使用
2. **文化的適応**: 日本のビジネスコミュニケーションスタイルに合わせた内容構造
3. **正確性検証**: 翻訳で技術的正確性が維持されていることを確認
4. **一貫性**: ドキュメント全体で主要用語の翻訳を統一

## プロジェクト概要

このブランチには、Minecraft Server Dashboard API V2プロジェクト再構築のための包括的なドキュメントが含まれています。ドキュメントスイートは、アーキテクチャの複雑性と技術的負債に対処するため、既存のV1システムをゼロから再構築するための完全な仕様を提供します。

## ドキュメント構造

### 主要ドキュメントファイル

| ドキュメント | 説明 | 言語 |
|-------------|------|------|
| `docs/en/new-architecture-design.md` | ドメイン駆動設計によるV2アーキテクチャ設計 | EN |
| `docs/ja/new-architecture-design.md` | V2アーキテクチャ設計とドメイン駆動設計 | JA |
| `docs/en/technical-specification.md` | 詳細な実装パターンとコード例 | EN |
| `docs/ja/technical-specification.md` | 詳細な実装パターンとコード例 | JA |
| `docs/en/database-design.md` | 最適化されたPostgreSQLスキーマ設計 | EN |
| `docs/ja/database-design.md` | PostgreSQL最適化スキーマ設計 | JA |
| `docs/en/api-design.md` | 100+エンドポイントのRESTful API仕様 | EN |
| `docs/ja/api-design.md` | 100+エンドポイントのRESTful API仕様 | JA |
| `docs/en/security-performance-requirements.md` | 企業セキュリティとパフォーマンス目標 | EN |
| `docs/ja/security-performance-requirements.md` | 企業グレードセキュリティ・パフォーマンス要件 | JA |
| `docs/en/development-roadmap.md` | 14週間段階的開発計画 | EN |
| `docs/ja/development-roadmap.md` | 14週間段階的開発計画 | JA |
| `docs/en/project-rebuild-summary.md` | 要約とROI分析 | EN |

### アーキテクチャ概要

V2再構築は以下を通じて現在のシステム複雑性に対処します：

**ドメイン駆動設計**: 19の密結合サービスを7つのクリーンな境界付きコンテキストに置き換え
- `users/` - ユーザー管理コンテキスト
- `servers/` - サーバー管理コンテキスト
- `groups/` - グループ管理コンテキスト
- `backups/` - バックアップ管理コンテキスト
- `templates/` - テンプレート管理コンテキスト
- `files/` - ファイル管理コンテキスト
- `monitoring/` - 監視コンテキスト

**CQRS + イベントソーシング**: イベント駆動アーキテクチャによる読み取り/書き込みモデルの分離
- 書き込み操作用コマンドハンドラー
- 読み取り操作用クエリハンドラー
- イベント駆動サービス間通信

**技術スタックの近代化**:
- 改善されたパターンを持つFastAPI
- パフォーマンス最適化されたPostgreSQL 15+
- キャッシングとジョブキュー用Redis 7+
- 包括的な監視と可観測性

## 機能パリティ

再構築はすべて46のユースケース（UC1-46）で100%の機能パリティを維持：
- ユーザー管理（UC38-42）
- サーバー管理（UC1-11）
- グループ管理（UC12-19）
- バックアップ管理（UC21-28）
- テンプレート管理（UC29-32）
- ファイル管理（UC33-37）
- リアルタイム機能（UC20）
- 管理機能（UC43-46）

## 実装タイムライン

**総期間**: 14週間（5フェーズ、10スプリント）
1. **基盤**（第1-2週）: 認証とコアインフラストラクチャ
2. **コアドメイン**（第3-6週）: サーバー、グループ、バックアップ管理
3. **高度な機能**（第7-10週）: テンプレート、ファイル、バックグラウンド処理
4. **リアルタイム・監視**（第11-12週）: WebSocket機能と可観測性
5. **移行・デプロイ**（第13-14週）: データ移行と本番ロールアウト

## 期待される利益

- **70%削減** メンテナンスオーバーヘッド
- **3倍高速** 新機能開発
- **企業グレードセキュリティ** 包括的監査付き
- **10倍スケーラビリティ** 同じインフラストラクチャで
- **200ms未満APIレスポンス** 時間（95パーセンタイル）
- **1000+同時ユーザー** サポート